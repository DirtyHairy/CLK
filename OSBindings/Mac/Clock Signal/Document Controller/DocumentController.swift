//
//  DocumentController.swift
//  Clock Signal
//
//  Created by Thomas Harte on 18/06/2016.
//  Copyright Â© 2016 Thomas Harte. All rights reserved.
//

import Cocoa

class DocumentController: NSDocumentController {
	override func newDocument(_ sender: Any?) {
		// Show the new document window.
		Bundle.main.loadNibNamed(NSNib.Name(rawValue: "MachinePicker"), owner: self, topLevelObjects: nil)
	}

	@IBOutlet var machinePicker: MachinePicker?
	@IBAction func createMachine(_ sender: NSButton?) {
		let machine = machinePicker!.selectedMachine()
		let document: MachineDocument = try! openUntitledDocumentAndDisplay(true) as! MachineDocument
		document.configureAs(machine)
		sender?.window?.close()
	}

	@IBAction func cancelCreateMachine(_ sender: NSButton?) {
		sender?.window?.close()
	}
}
